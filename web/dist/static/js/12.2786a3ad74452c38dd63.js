webpackJsonp([12],{ENpq:function(e,t){},jpLH:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("mvHQ"),o=s.n(n),i=s("yojn"),a=s.n(i),c=s("Y54T"),r=s("Au9i"),l={name:"text",data:function(){return{selected:"",selectList:[],blueEnable:!0,locationGranted:!0,locationEnabled:!0,provisionNumber:"",getFastProvNodeAddrTimeOut:"",firstAddress:"",isBleConnect:!0,getFirstContent:0}},created:function(){var e=this;e.selectList.push(e.$t("allnodes")),window.meshMessageCallback=function(t){e.meshMessageCallback(t)},window.scanCallback=function(t){e.scanCallback(t)},window.connectCallback=function(t){e.connectCallback(t)},window.onBackPressed=function(){e.onBackPressed()}},methods:{showBlueFail:function(){console.log("点击蓝牙按钮")},scanCallback:function(e){c.a.scanCallback(e,this)},connectCallback:function(e){c.a.connectCallback(e,this,!0)},hide:function(){this.$router.goBack()},onBackPressed:function(){this.$router.goBack()},deviceProvision:function(){var e=this,t={};console.log("配网数量： "+e.provisionNumber),c.a._isEmpty(e.provisionNumber)?c.a.messageRemind(this.$t("configdevicenumber")):(e.isBleConnect=e.$store.state.isBleConnect,e.isBleConnect?(t[a.a.KEY_OP_CODE]=a.a.FAST_PROV_INFO_SET,t[a.a.KEY_DST_ADDRESS]=e.$store.state.bleConnectAddress,t[a.a.KEY_EXPECT_PROVISIONING_COUNT]=e.provisionNumber,e.firstAddress=e.$store.state.bleConnectAddress,console.log("FBY First provision sendMeshData:"+o()(t)),r.Indicator.open(),setTimeout(function(){r.Indicator.close(),c.a.messageRemind(e.$t("provisionTimeout"))},3e4),c.a.sendMeshMessage(e,t)):c.a.messageRemind(e.$t("bledisconnect")))},meshMessageCallback:function(e){c.a.meshMessageCallback(e,this,"firstProvision")},firstProvStatusCallback:function(){var e=this;e.getFastProvNodeAddrTimeOut=setTimeout(function(){console.log("FBY getFastProvNodeAddrTimeOut aaaaa: "+e.getFirstContent),e.getFastProvNodeAddr()},5e3),e.getFirstContent++},getFastProvNodeAddr:function(){var e=this,t={};e.isBleConnect=e.$store.state.isBleConnect,e.isBleConnect?(t[a.a.KEY_OP_CODE]=a.a.FAST_PROV_NODE_ADDR_GET,t[a.a.KEY_DST_ADDRESS]=e.firstAddress,console.log("FBY First provision sendMeshData:"+o()(t)),c.a.sendMeshMessage(e,t),e.getFirstContent<3&&(e.getFastProvNodeAddrTimeOut=setTimeout(function(){console.log("FBY getFastProvNodeAddrTimeOut: "+e.getFirstContent),e.getFastProvNodeAddr()},5e3),e.getFirstContent++)):(c.a.messageRemind(e.$t("bledisconnect")),c.a.homeDeviceScan(this))},scanTimeout:function(){c.a.scanTimeout(this)&&c.a.messageRemind(this.$t("unconnectable"))},sendBLEMeshData:function(){this.getFastProvNodeAddr()},getFastProvNodeAddrCallback:function(e){this.getFirstContent=5,r.Indicator.close(),c.a.fastNodesStatus(this,e),clearTimeout(this.getFastProvNodeAddrTimeOut),c.a.messageRemind(this.$t("fastconfigsuc"))}},mounted:function(){},computed:{getBlueEnable:function(){return console.log("状态实时更新"),this.blueEnable=this.$store.state.blueInfo,this.locationGranted=this.$store.state.locationGranted,this.locationEnabled=this.$store.state.locationEnabled,this.blueEnable}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-box"},[s("div",{staticClass:"title-info"},[s("h4",{staticClass:"app-title"},[s("span",{on:{click:e.hide}},[s("i",{staticClass:"icon-left back"})]),e._v(e._s(e.$t("fastprovision")))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.getBlueEnable,expression:"!getBlueEnable"}],staticClass:"bluetooth-second-base",on:{click:e.showBlueFail}},[s("i",{staticClass:"icon-bluetooth bluetooth-second-style"})]),e._v(" "),s("span",{staticClass:"right-top-text",on:{click:function(t){return e.deviceProvision()}}},[e._v(e._s(e.$t("provision")))])]),e._v(" "),s("div",{staticClass:"input-base"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.provisionNumber,expression:"provisionNumber"}],staticClass:"input-content",attrs:{placeholder:e.$t("configdevicenumber"),type:"number"},domProps:{value:e.provisionNumber},on:{input:function(t){t.target.composing||(e.provisionNumber=t.target.value)}}})])])},staticRenderFns:[]};var u=s("VU/8")(l,d,!1,function(e){s("ENpq")},"data-v-269ae3ab",null);t.default=u.exports}});
//# sourceMappingURL=12.2786a3ad74452c38dd63.js.map