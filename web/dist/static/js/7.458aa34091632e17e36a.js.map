{"version":3,"sources":["webpack:///src/pages/index/home.vue","webpack:///./src/pages/index/home.vue?2e5d","webpack:///./src/pages/index/home.vue"],"names":["home","data","homeDeviceList","this","$store","state","fastNodesList","selected","homeMenu","blueEnable","locationGranted","locationEnabled","flag","onoff","isSwitchUI","isSwitchOnOff","selectList","homeSelectList","proxyAddress","connectContent","connectData","isBleConnect","homedeviceGroup","deviceGroupList","pullLoad","loadShow","topStatus","startTime","isGetDetailData","groupsList","groupsDetail","homeNewDevice","beforeDestroy","console","log","watch","$route","created","self","window","res","getMeshNetworkCallback","scanCallback","connectCallback","meshMessageCallback","onBackPressed","getMeshInfoCallback","getGroupsCallback","methods","extends_default","Object","vuex_esm","setNum","utils","base64","decode","JSON","parse","_isEmpty","length","splice","commit","type","nodes","fastNodes","address","sendBLEMeshData","homeDeviceScan","getHomeAllList","testClick","mint_ui_common","message","$t","position","duration","Date","getTime","EspBleMesh","finish","loadTop","meshInfo","setTimeout","$refs","loadmore","onTopLoaded","getMeshNetwork","handleTopChange","status","arr","document","getElementsByClassName","stringify_default","classList","add","remove","getPath","path","stopScan","showBlueFail","showUl","models","item","proxyDisconnect","$router","togo","name","query","messageRemind","operateItem","e","pushNextPage","isNode","groupAddress","menuSelect","switchUI","getIcon","tid","getIconUtil","getBxColor","bleConnectAddress","getColor","getColorUtil","isLight","switchItem","close","scanTimeout","device","sendMeshData","nodeAdress","constant_default","a","KEY_OP_CODE","GENERIC_ON_OFF_SET_UNACKNOWLEDGED","KEY_DST_ADDRESS","elementAddress","KEY_NODE_ADDRESS","nodeAddress","KEY_STATE","sendMeshMessage","updateNodesStatus","getMeshGroupData","groups","setMeshGroupsData","forEach","push","getFastProvNodeAddrCallback","fastNodesStatus","mounted","activated","CAPABILITIES","node","deactivated","computed","number","getBlueEnable","blueInfo","getDataList","index_home","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","on","click","$event","_v","directives","rawName","value","expression","stopPropagation","_s","model","callback","$$v","_l","i","key","id","ref","top-method","top-status-change","target","currentTarget","class","style","color","version","active","slot","rotate","switch","node-name","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.458aa34091632e17e36a.js","sourcesContent":["<template>\n  <div class=\"index-content-box\">\n    <div class=\"home-header\">\n      <img class=\"esp-logo\" src=\"../../assets/EspressifLogo.png\" @click=\"testClick()\">\n      <p class=\"home-network\">Espressif Network</p>\n      <div v-show=\"!getBlueEnable\"  @click=\"showBlueFail\" class=\"bluetooth-base\">\n        <i class=\"icon-bluetooth bluetooth-style\"></i>\n      </div>\n      <i @click.stop=\"showUl()\" class=\"icon-plus right-more\"></i>\n      <ul v-show=\"flag\" class=\"add-ul\">\n<!--        <i class=\"icon-light\"></i>-->\n        <li @click.stop=\"homeMenu('1')\"><span>{{$t('sigprovision')}}</span></li>\n        <li @click.stop=\"homeMenu('2')\"><span>{{$t('fastprovision')}}</span></li>\n<!--        <li @click.stop=\"homeMenu('3')\"><span>{{$t('newnetwork')}}</span></li>-->\n      </ul>\n    </div>\n    <div class=\"select-menu-base\">\n      <div class=\"select-menu\">\n        <mt-navbar v-model=\"selected\">\n          <mt-tab-item v-for=\"(item, i) in selectList\" :key=\"i\" :id=\"i\">{{item}}</mt-tab-item>\n        </mt-navbar>\n      </div>\n      <i @click.stop=\"switchUI\" class=\"icon-more home-switch-btn flex flex-ac flex-jcc\"></i>\n    </div>\n    <div v-show=\"!isSwitchUI\" class=\"content-info scan-device flex-wrapper search-device\">\n      <div class=\"overflow-touch\">\n        <mt-loadmore :top-method=\"loadTop\" @top-status-change=\"handleTopChange\" ref=\"loadmore\">\n          <div v-for=\"(item, i) in getDataList\" :key=\"i\" @click.self=\"operateItem(item)\" class=\"item push-none\">\n            <div @click.stop=\"operateItem(item)\" class=\"item-icon-circle\" :class=\"getBxColor(item)\">\n              <i :class=\"getIcon(item.tid)\" :style=\"{'color': getColor(item)}\"></i>\n              <!--            <span><i class=\"icon-link\"></i></span>-->\n            </div>\n            <div @click.stop=\"operateItem(item)\" class=\"item-name\">\n              <span>{{item.name}}</span>\n              <span class=\"desc\">{{$t('nodeAddresss')}}{{item.address}}&nbsp;&nbsp;&nbsp;&nbsp;{{$t('nodeVersion')}}{{item.version}}</span>\n            </div>\n            <div class=\"item-power\">\n              <div v-show=\"isLight(item.tid) && isBleConnect\" class=\"switch-wrapper\">\n                <span :class=\"{'active': !item.status}\" @click=\"close(item, false)\">OFF</span>\n                <span :class=\"{'active': item.status}\" @click=\"close(item, true)\">ON</span>\n              </div>\n            </div>\n          </div>\n          <div slot=\"top\" class=\"mint-loadmore-top\">\n            <span v-show=\"topStatus !== 'loading'\" :class=\"{ 'rotate': topStatus === 'drop' }\">↓</span>\n            <div v-show=\"topStatus === 'loading'\" id=\"loader-wrapper-small\">\n              <div class=\"loader loader-small\"></div>\n              <div class=\"loader-section section-left\"></div>\n              <div class=\"loader-section section-right\"></div>\n            </div>\n          </div>\n        </mt-loadmore>\n      </div>\n    </div>\n    <div v-show=\"isSwitchUI\" class=\"home-switch-base\">\n      <div class=\"switch-base\">\n        <div @click.self=\"switchItem(item)\" v-for=\"item in getHomeAllList(selected)\" :key=\"item.address\" class=\"switch-item\">\n          <div @click.stop=\"switchItem(item)\" class=\"switch-item-content\">\n            <i class=\"icon-light switch-icon-light\" :class=\"{'switch': item.status}\"></i>\n            <span :class=\"{'node-name': selected > 1}\">{{item.name}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {mapMutations, mapGetters, mapState} from 'vuex'\nimport Util from '../../assets/tool/utils'\nimport Constant from \"../../assets/tool/constant\";\nimport {Indicator, MessageBox, Toast} from \"mint-ui\";\nexport default {\n  data () {\n    return {\n      homeDeviceList: this.$store.state.homeDeviceList,\n      fastNodesList: this.$store.state.fastNodesList,\n      selected: this.$store.state.homeMenu,\n      blueEnable: true,\n      locationGranted: true,\n      locationEnabled: true,\n      flag: false,\n      onoff: false,\n      isSwitchUI: false,\n      isSwitchOnOff: false,\n      selectList: this.$store.state.homeSelectList,\n      proxyAddress: '',\n      connectContent: 0,\n      connectData: '',\n      isBleConnect: false,\n      homedeviceGroup: this.$store.state.deviceGroupList,\n      pullLoad: false,\n      loadShow: false,\n      topStatus: '',\n      startTime: 0,\n      isGetDetailData: false,\n      groupsList: [],\n      groupsDetail: {},\n      homeNewDevice:[]\n    }\n  },\n  beforeDestroy () {\n    console.log('即将离开 Home 页面')\n  },\n  watch: {\n    '$route':'getPath'\n\n  },\n  created () {\n    var self = this\n    window['getMeshNetworkCallback'] = (res) => {\n      self.getMeshNetworkCallback(res)\n    }\n    window['scanCallback'] = (res) => {\n      self.scanCallback(res)\n    }\n    window['connectCallback'] = (res) => {\n      self.connectCallback(res)\n    }\n    window['meshMessageCallback'] = (res) => {\n      self.meshMessageCallback(res)\n    }\n    window['onBackPressed'] = () => {\n      self.onBackPressed()\n    }\n    window['getMeshInfoCallback'] = (res) => {\n      self.getMeshInfoCallback(res)\n    }\n    window['getGroupsCallback'] = (res) => {\n      self.getGroupsCallback(res)\n    }\n  },\n  methods: {\n    ...mapMutations({\n      setNum: 'SET_NUM'\n    }),\n    getGroupsCallback (res) {\n      var self = this\n      res = Util.base64().decode(res)\n      console.log('FBY getGroupsCallback' + res)\n      res = JSON.parse(res)\n      if (!Util._isEmpty(res)) {\n        self.groupsList = res\n        if (self.selectList.length > 2) {\n          self.selectList.splice(2, self.selectList.length - 2)\n        }\n        // res.forEach(function (item) {\n        //   self.selectList.push(item.name)\n        // })\n        self.$store.commit('setHomeSelectList', self.selectList)\n      }\n    },\n    getMeshInfoCallback (res) {\n      var self = this\n      res = Util.base64().decode(res)\n      console.log('FBY getMeshInfoCallback' + res)\n      res = JSON.parse(res)\n      if (!Util._isEmpty(res)) {homedeviceGroup\n        if (res.type === 'node' && self.selected === 0) {\n          self.homeDeviceList = res.nodes\n          self.$store.commit('setHomeDeviceList', self.homeDeviceList)\n        } else if (res.type === 'fastNode' && self.selected === 1) {\n          self.fastNodesList = res.fastNodes\n        } else if (res.type === 'group' && self.groupsList[self.selected].address === res.address) {\n          self.groupsDetail[self.selected] = res\n        }\n      }\n      self.isBleConnect = self.$store.state.isBleConnect\n      if (self.isBleConnect) {\n        self.sendBLEMeshData()\n      } else {\n        self.homeDeviceScan(self)\n      }\n      console.log('getMeshInfoCallback getHomeAllList 1')\n      self.getHomeAllList(self.selected)\n      console.log('getMeshInfoCallback getHomeAllList 2')\n    },\n    testClick () {\n      // 新版本 OTA\n      // this.$router.togo({\n      //   name: 'newNodeUpgrade'\n      // })\n    },\n    onBackPressed () {\n      var self = this\n      Toast({\n        message: self.$t('exitProgramDesc'),\n        position: 'bottom',\n        duration: 2000\n      })\n      if (self.startTime === 0) {\n        self.startTime = new Date().getTime()\n      } else {\n        if (new Date().getTime() - self.startTime < 2000) {\n          EspBleMesh.finish()\n        } else {\n          self.startTime = new Date().getTime()\n        }\n      }\n    },\n    loadTop () {\n      console.log('下拉刷新')\n      var self = this\n      var meshInfo = {}\n      self.isGetDetailData = true\n      self.pullLoad = true\n      setTimeout(function() {\n        if (!self.loadShow) {\n          // self.$refs.load.hide();\n          self.loadShow = true\n          if (self.selected === 0) {\n            meshInfo['type'] = 'node'\n          } else if (self.selected === 1) {\n            meshInfo['type'] = 'fastNode'\n          } else {\n            meshInfo['type'] = 'group'\n            meshInfo['address'] = self.groupsList[self.selected].address\n          }\n          // EspBleMesh.getMeshInfo(JSON.stringify(meshInfo))\n          EspBleMesh.getMeshNetwork()\n        } else {\n          self.pullLoad = false\n          self.$refs.loadmore.onTopLoaded()\n        }\n      }, 50)\n      setTimeout(function () {\n        self.loadShow = false\n        self.pullLoad = false\n        self.isGetDetailData = false\n        self.$refs.loadmore.onTopLoaded()\n      }, 5000)\n    },\n    handleTopChange (status) {\n      this.topStatus = status\n      var arr = document.getElementsByClassName('mint-loadmore-content')\n      console.log('FBY arr' + JSON.stringify(arr))\n      if (this.pullLoad) {\n        arr[0].classList.add('pullLoad')\n        this.topStatus = \"loading\"\n        this.$refs.loadmore.topStatus = \"loading\"\n      } else {\n        arr[0].classList.remove('pullLoad')\n      }\n    },\n    getPath(){\n      var self = this\n      console.log('路由发生变化' + this.$route.path);\n      if (this.$route.path === '/home') {\n        // EspBleMesh.getMeshNetwork()\n      } else {\n        EspBleMesh.stopScan()\n      }\n    },\n    scanCallback (res) {\n      var self = this\n      Util.scanCallback(res, self)\n    },\n    connectCallback (res) {\n      var self = this\n      Util.connectCallback(res, self, self.isGetDetailData)\n    },\n    showBlueFail () {\n      console.log('点击蓝牙图标')\n    },\n    showUl () {\n      this.flag = !this.flag\n    },\n    getHomeAllList (selected) {\n      var self = this\n      self.$store.commit('setHomeMenu', selected)\n      console.log('Home 菜单栏选择：' + selected)\n      if (selected === 0) {\n        console.log('FBY Home homeDeviceList: ' + JSON.stringify(self.homeDeviceList))\n        return self.homeDeviceList\n      } else if (selected === 1) {\n        // console.log('FBY Home fastNodesList: ' + JSON.stringify(self.fastNodesList))\n        return self.fastNodesList\n      } else {\n        console.log('FBY Home homedeviceGroup selected: ' + selected)\n        console.log('FBY Home homedeviceGroup address: ' + JSON.stringify(self.homedeviceGroup))\n        // console.log('FBY Home homedeviceGroup: ' + JSON.stringify(self.homedeviceGroup[selected - 2].models))\n        if (!Util._isEmpty(self.homedeviceGroup[selected - 2])) {\n          return self.homedeviceGroup[selected - 2].models\n        } else {\n          return []\n        }\n        // return self.groupsDetail[selected]\n      }\n    },\n    homeMenu (item) {\n      var self = this\n      console.log('点击配网' + item)\n      self.flag = false\n      if (item === '1') {\n        EspBleMesh.stopScan()\n        self.isBleConnect = self.$store.state.isBleConnect\n        if (self.isBleConnect) {\n          Util.proxyDisconnect(self)\n        }\n        self.$router.togo({\n          name: 'sigprovision',\n          query: {\n            'type': item\n          }\n        })\n      } else if (item === '2') {\n        self.isBleConnect = self.$store.state.isBleConnect\n        if (self.isBleConnect) {\n          EspBleMesh.stopScan()\n          self.$router.togo({\n            name: 'firstprovision',\n            query: {\n              'type': item\n            }\n          })\n        } else {\n          Util.messageRemind(self.$t('fastremind'))\n        }\n      }else {\n        console.log('新建网络')\n      }\n    },\n    operateItem (item, e) {\n      console.log('点击 cell 控制设备' + JSON.stringify(item))\n      var self = this\n      self.flag = false\n      if (self.pullLoad) {\n        return\n      }\n      // TODO\n      // self.$store.commit('setDeviceInfo', item)\n      // // if (self.selected < 2) {\n      // //   isNode = false\n      // // }\n      // self.$router.togo({\n      //   name: 'operation',\n      //   query: {\n      //     'item': item,\n      //     'isNode': true,\n      //     'groupAddress': ''\n      //   }\n      // })\n      self.isBleConnect = self.$store.state.isBleConnect\n      if (self.isBleConnect) {\n        self.pushNextPage(item)\n      } else {\n        // Util.messageRemind(self.$t('devicebleconnecting'))\n        EspBleMesh.stopScan()\n        Util.messageRemind(self.$t('bleConnecting'))\n        self.$store.commit('setBleWillConnectAddress', item.address)\n        self.homeDeviceScan()\n      }\n    },\n    pushNextPage (item) {\n      var self = this\n      var isNode = true\n      var groupAddress = ''\n      EspBleMesh.stopScan()\n      self.$store.commit('setDeviceInfo', item)\n      if (self.selected > 1) {\n        groupAddress = self.homedeviceGroup[self.selected - 2].address\n        isNode = false\n      }\n      self.$router.togo({\n        name: 'operation',\n        query: {\n          'item': item,\n          'isNode': isNode,\n          'groupAddress': groupAddress,\n          'menuSelect': self.selected\n        }\n      })\n    },\n    switchUI () {\n      console.log('点击切换 UI')\n      this.isSwitchUI = !this.isSwitchUI\n    },\n    getIcon: function (tid) {\n      return Util.getIconUtil(tid)\n    },\n    getBxColor (item) {\n      var self = this\n      if (item.address === self.$store.state.bleConnectAddress) {\n        return 'bx-red'\n      } else {\n        return ''\n      }\n    },\n    getColor: function (item) {\n      return Util.getColorUtil(item)\n    },\n    isLight (tid) {\n      return Util.isLight(tid)\n    },\n    switchItem (item) {\n      var self = this\n      self.isBleConnect = self.$store.state.isBleConnect\n      if (self.isBleConnect) {\n        self.close(item, !item.status)\n      } else {\n        Util.messageRemind(self.$t('devicebleconnecting'))\n      }\n    },\n    homeDeviceScan () {\n      Util.homeDeviceScan(this)\n    },\n    scanTimeout () {\n      var self = this\n      var isRemind = Util.scanTimeout(this)\n      if (isRemind) {\n        Util.messageRemind(self.$t('unconnectable'))\n      }\n    },\n    close (device, status) {\n      var self = this\n      var sendMeshData = {}\n      var nodeAdress = ''\n      console.log('FBY close device: ' + JSON.stringify(device) + ' status: ' + status)\n      sendMeshData[Constant.KEY_OP_CODE] = Constant.GENERIC_ON_OFF_SET_UNACKNOWLEDGED\n      if (self.selected > 1) {\n        sendMeshData[Constant.KEY_DST_ADDRESS] = device.elementAddress\n        sendMeshData[Constant.KEY_NODE_ADDRESS] = device.nodeAddress\n      } else {\n        sendMeshData[Constant.KEY_DST_ADDRESS] = device.address\n        sendMeshData[Constant.KEY_NODE_ADDRESS] = device.address\n      }\n      sendMeshData[Constant.KEY_STATE] = status\n      self.isBleConnect = self.$store.state.isBleConnect\n      if (self.isBleConnect) {\n        Util.sendMeshMessage(self, sendMeshData)\n      }else {\n        Util.messageRemind(self.$t('trybleconnect'))\n        self.homeDeviceScan()\n      }\n      if (self.selected > 1) {\n        nodeAdress = device.nodeAddress\n      } else {\n        nodeAdress = device.address\n      }\n      Util.updateNodesStatus(self, nodeAdress, status, 'status')\n    },\n    // 蓝牙连接成功发送数据\n    sendBLEMeshData () {\n      var self = this\n      Util.sendBLEMeshData(self)\n    },\n    sendMeshMessage (sendMeshData) {\n      var self = this\n      Util.sendMeshMessage(self, sendMeshData)\n    },\n    //获取所有节点\n    getMeshNetworkCallback (res) {\n      var self = this\n      Util.getMeshNetworkCallback(res, self)\n    },\n    // 处理群组数据\n    getMeshGroupData (groups, nodes) {\n      var self = this\n      console.log('getMeshGroupData : ' + JSON.stringify(self.selectList))\n      if (self.selectList.length > 2) {\n        self.selectList.splice(2, self.selectList.length - 2)\n      }\n      console.log('FBY Home getMeshGroupData:' + JSON.stringify(groups) + '     selectList: ' + JSON.stringify(self.selectList))\n      groups = Util.setMeshGroupsData(groups, nodes, self)\n      self.homedeviceGroup = groups\n      self.homedeviceGroup.forEach(function (item) {\n        self.selectList.push(item.name)\n      })\n      console.log('FBY Home getMeshGroupData selectList: ' + JSON.stringify(self.selectList))\n      self.$store.commit('setHomeSelectList', self.selectList)\n      console.log('FBY Home getMeshGroupData newGroups:' + JSON.stringify(groups))\n    },\n    //设备状态变化回调\n    meshMessageCallback (res) {\n      var self = this\n      Util.meshMessageCallback(res, self, 'home')\n    },\n    getFastProvNodeAddrCallback (fastNodes) {\n      var self = this\n      self.fastNodesList = Util.fastNodesStatus(self, fastNodes)\n      console.log('FBY getFastProvNodeAddrCallback fastNodesList: ' + JSON.stringify(self.fastNodesList))\n    }\n  },\n  mounted () {\n    console.log('mounted 走了')\n  },\n  activated() {\n    var self = this\n    console.log('activated 走了: ' + JSON.stringify(self.selectList))\n    if (self.selectList.length > 1) {\n      self.selectList.splice(0, 1, self.$t('networknodes'))\n      self.selectList.splice(1, 1, self.$t('fastnodes'))\n    } else {\n      self.selectList.push(self.$t('networknodes'))\n      self.selectList.push(self.$t('fastnodes'))\n    }\n    window['getMeshNetworkCallback'] = (res) => {\n      self.getMeshNetworkCallback(res)\n    }\n    window['scanCallback'] = (res) => {\n      self.scanCallback(res)\n    }\n    window['connectCallback'] = (res) => {\n      self.connectCallback(res)\n    }\n    window['meshMessageCallback'] = (res) => {\n      self.meshMessageCallback(res)\n    }\n    window['onBackPressed'] = () => {\n      self.onBackPressed()\n    }\n    self.isBleConnect = self.$store.state.isBleConnect\n    self.fastNodesList = self.$store.state.fastNodesList\n    self.connectContent = 0\n    self.startTime = 0\n    // self.homeDeviceList = [\n    //   {'name': 'light-1', 'address': '000000001', 'version': '1.0.1', 'tid': '1', 'status':false, 'characteristics': [[{'cid': '1'}]]},\n    //   {'name': 'light-2', 'address': '00002', 'version': '1.0.1', 'tid': '1', 'status':false, 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'light-3', 'address': '03', 'version': '1.0.1', 'tid': '1', 'status':false, 'characteristics': [{'cid': '1'}]}]\n    // self.homeGroupOne = [\n    //   {'name': 'name-1', 'mac': '000000001', 'group': 'group1', 'tid': '1', 'characteristics': [[{'cid': '1'}]]},\n    //   {'name': 'name-2', 'mac': '000000002', 'group': 'group2', 'tid': '1', 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'name-3', 'mac': '000000003', 'group': 'group3', 'tid': '1', 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'name-4', 'mac': '000000004', 'group': 'group4', 'tid': '1', 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'name-5', 'mac': '000000005', 'group': 'group5', 'tid': '1', 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'name-6', 'mac': '000000006', 'group': 'group6', 'tid': '1', 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'name-7', 'mac': '000000007', 'group': 'group7', 'tid': '1', 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'name-8', 'mac': '000000008', 'group': 'group8', 'tid': '1', 'characteristics': [{'cid': '0'}]},\n    //   {'name': 'name-9', 'mac': '000000009', 'group': 'group9', 'tid': '1', 'characteristics': [{'cid': '0'}]}]\n    // self.homeGroupTwo = [\n    //   {'name': 'group-1', 'mac': '000000001', 'group': 'group1', 'tid': '1', 'characteristics': [[{'cid': '1'}]]},\n    //   {'name': 'group-2', 'mac': '000000002', 'group': 'group2', 'tid': '1', 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'group-3', 'mac': '000000003', 'group': 'group3', 'tid': '1', 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'group-4', 'mac': '000000004', 'group': 'group4', 'tid': '1', 'characteristics': [{'cid': '1'}]},\n    //   {'name': 'group-5', 'mac': '000000005', 'group': 'group5', 'tid': '1', 'characteristics': [{'cid': '1'}]}]\n    console.log('capabilities 返回传参打印' + JSON.stringify(this.$route.query))\n    if (self.$route.query.type === Constant.CAPABILITIES) {\n      if (!Util._isEmpty(this.$route.query.node)) {\n        self.homeDeviceList.push(this.$route.query.node)\n        self.$store.commit('setHomeDeviceList', self.homeDeviceList)\n        console.log('homeDeviceList 打印' + JSON.stringify(self.homeDeviceList))\n      }\n    }\n    // EspBleMesh.getGroups()\n  },\n  deactivated() {\n    console.log('deactivated 走了')\n    EspBleMesh.stopScan()\n  },\n  computed: {\n    ...mapGetters([\n      'number'\n    ]),\n    ...mapState({\n      number: state => state.home.number\n    }),\n    getBlueEnable () {\n      this.blueEnable = this.$store.state.blueInfo\n      this.locationGranted = this.$store.state.locationGranted\n      this.locationEnabled = this.$store.state.locationEnabled\n      console.log('状态实时更新 blueEnable:' + this.blueEnable + '  locationGranted:' + this.locationGranted + '  locationEnabled:' + this.locationEnabled)\n      return this.blueEnable\n    },\n    getDataList () {\n      this.homeDeviceList = this.$store.state.homeDeviceList\n      // this.homeDeviceList = JSON.parse('[{\\\"name\\\":\\\"My Node\\\",\\\"uuid\\\":\\\"ffff30ae-a480-0a6e-0000-000000000000\\\",\\\"meshUuid\\\":\\\"DEFC8EC0-3D47-4B59-BC5A-DE8B65220F53\\\",\\\"address\\\":2,\\\"elements\\\":[{\\\"name\\\":\\\"Element: 0x0002\\\",\\\"address\\\":2,\\\"models\\\":[{\\\"id\\\":0,\\\"name\\\":\\\"Configuration Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":1,\\\"name\\\":\\\"Configuration Client\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":2,\\\"name\\\":\\\"Health Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":4096,\\\"name\\\":\\\"Generic On Off Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[0],\\\"groups\\\":[49154]},{\\\"id\\\":4100,\\\"name\\\":\\\"Generic Default Transition Timer Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":4102,\\\"name\\\":\\\"Generic Power On Off Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":4103,\\\"name\\\":\\\"Generic Power On Off Setup Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":4098,\\\"name\\\":\\\"Generic Level Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":4864,\\\"name\\\":\\\"Light Lightness Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":4865,\\\"name\\\":\\\"Light Lightness Setup Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":4871,\\\"name\\\":\\\"Light HSL Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[0],\\\"groups\\\":[]},{\\\"id\\\":4872,\\\"name\\\":\\\"Light HSL Setup Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":4867,\\\"name\\\":\\\"Light Ctl Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[0],\\\"groups\\\":[]},{\\\"id\\\":4868,\\\"name\\\":\\\"Light Ctl Setup Server\\\",\\\"type\\\":\\\"sig\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":48562176,\\\"name\\\":\\\"Vendor Model\\\",\\\"type\\\":\\\"vendor\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":48562177,\\\"name\\\":\\\"Vendor Model\\\",\\\"type\\\":\\\"vendor\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":48562179,\\\"name\\\":\\\"Vendor Model\\\",\\\"type\\\":\\\"vendor\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]},{\\\"id\\\":48562178,\\\"name\\\":\\\"Vendor Model\\\",\\\"type\\\":\\\"vendor\\\",\\\"applicationKeys\\\":[],\\\"groups\\\":[]}]}],\\\"tid\\\":\\\"1\\\",\\\"color\\\":[0,1,1],\\\"status\\\":false}]')\n      console.log('computed: ' + JSON.stringify(this.homeDeviceList))\n      return this.getHomeAllList(this.selected)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import '../../assets/css/index.less';\n  .home-switch-btn {\n    width: 45px;\n    height: 45px;\n    color: @tab-general-bg-color;\n    font-size: 22px;\n  }\n  .home-switch-base {\n    position: relative;\n    height: calc(100% - 195px) !important;\n    width: 100%;\n    background-color: white;\n  }\n  .switch-base {\n    display: flex;\n    /*flex-flow: row wrap;*/\n    flex-wrap: wrap;\n    max-height: 100%;\n    overflow: hidden;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n  .switch-item {\n    height: 25vw;\n    flex: 1;\n    max-width: 25%;\n    min-width: 25%;\n    padding: 10px;\n    box-sizing: border-box;\n  }\n  .switch-item-content {\n    height: 100%;\n    /*background-color: #4caf50;*/\n    border: 1px solid @tab-general-bg-color;\n    border-radius: 5px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n  .switch-item-content .switch {\n    color: @tab-general-bg-color;\n  }\n  .switch-icon-light {\n    padding: 10%;\n    font-size: 30px;\n    color: @Secondary-font-color;\n  }\n  .switch-item-content .node-name {\n    font-size: 8px;\n    width: 80%;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index/home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index-content-box\"},[_c('div',{staticClass:\"home-header\"},[_c('img',{staticClass:\"esp-logo\",attrs:{\"src\":require(\"../../assets/EspressifLogo.png\")},on:{\"click\":function($event){return _vm.testClick()}}}),_vm._v(\" \"),_c('p',{staticClass:\"home-network\"},[_vm._v(\"Espressif Network\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.getBlueEnable),expression:\"!getBlueEnable\"}],staticClass:\"bluetooth-base\",on:{\"click\":_vm.showBlueFail}},[_c('i',{staticClass:\"icon-bluetooth bluetooth-style\"})]),_vm._v(\" \"),_c('i',{staticClass:\"icon-plus right-more\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showUl()}}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.flag),expression:\"flag\"}],staticClass:\"add-ul\"},[_c('li',{on:{\"click\":function($event){$event.stopPropagation();return _vm.homeMenu('1')}}},[_c('span',[_vm._v(_vm._s(_vm.$t('sigprovision')))])]),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){$event.stopPropagation();return _vm.homeMenu('2')}}},[_c('span',[_vm._v(_vm._s(_vm.$t('fastprovision')))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"select-menu-base\"},[_c('div',{staticClass:\"select-menu\"},[_c('mt-navbar',{model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},_vm._l((_vm.selectList),function(item,i){return _c('mt-tab-item',{key:i,attrs:{\"id\":i}},[_vm._v(_vm._s(item))])}),1)],1),_vm._v(\" \"),_c('i',{staticClass:\"icon-more home-switch-btn flex flex-ac flex-jcc\",on:{\"click\":function($event){$event.stopPropagation();return _vm.switchUI($event)}}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isSwitchUI),expression:\"!isSwitchUI\"}],staticClass:\"content-info scan-device flex-wrapper search-device\"},[_c('div',{staticClass:\"overflow-touch\"},[_c('mt-loadmore',{ref:\"loadmore\",attrs:{\"top-method\":_vm.loadTop},on:{\"top-status-change\":_vm.handleTopChange}},[_vm._l((_vm.getDataList),function(item,i){return _c('div',{key:i,staticClass:\"item push-none\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.operateItem(item)}}},[_c('div',{staticClass:\"item-icon-circle\",class:_vm.getBxColor(item),on:{\"click\":function($event){$event.stopPropagation();return _vm.operateItem(item)}}},[_c('i',{class:_vm.getIcon(item.tid),style:({'color': _vm.getColor(item)})})]),_vm._v(\" \"),_c('div',{staticClass:\"item-name\",on:{\"click\":function($event){$event.stopPropagation();return _vm.operateItem(item)}}},[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.$t('nodeAddresss'))+_vm._s(item.address)+\"    \"+_vm._s(_vm.$t('nodeVersion'))+_vm._s(item.version))])]),_vm._v(\" \"),_c('div',{staticClass:\"item-power\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLight(item.tid) && _vm.isBleConnect),expression:\"isLight(item.tid) && isBleConnect\"}],staticClass:\"switch-wrapper\"},[_c('span',{class:{'active': !item.status},on:{\"click\":function($event){return _vm.close(item, false)}}},[_vm._v(\"OFF\")]),_vm._v(\" \"),_c('span',{class:{'active': item.status},on:{\"click\":function($event){return _vm.close(item, true)}}},[_vm._v(\"ON\")])])])])}),_vm._v(\" \"),_c('div',{staticClass:\"mint-loadmore-top\",attrs:{\"slot\":\"top\"},slot:\"top\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topStatus !== 'loading'),expression:\"topStatus !== 'loading'\"}],class:{ 'rotate': _vm.topStatus === 'drop' }},[_vm._v(\"↓\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topStatus === 'loading'),expression:\"topStatus === 'loading'\"}],attrs:{\"id\":\"loader-wrapper-small\"}},[_c('div',{staticClass:\"loader loader-small\"}),_vm._v(\" \"),_c('div',{staticClass:\"loader-section section-left\"}),_vm._v(\" \"),_c('div',{staticClass:\"loader-section section-right\"})])])],2)],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSwitchUI),expression:\"isSwitchUI\"}],staticClass:\"home-switch-base\"},[_c('div',{staticClass:\"switch-base\"},_vm._l((_vm.getHomeAllList(_vm.selected)),function(item){return _c('div',{key:item.address,staticClass:\"switch-item\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.switchItem(item)}}},[_c('div',{staticClass:\"switch-item-content\",on:{\"click\":function($event){$event.stopPropagation();return _vm.switchItem(item)}}},[_c('i',{staticClass:\"icon-light switch-icon-light\",class:{'switch': item.status}}),_vm._v(\" \"),_c('span',{class:{'node-name': _vm.selected > 1}},[_vm._v(_vm._s(item.name))])])])}),0)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f5765f6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8f5765f6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8f5765f6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/home.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}